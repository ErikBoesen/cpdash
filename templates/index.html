<!DOCTYPE html>
<html>
    <head>
        <title>CyberPatriot Scores</title>
        <!-- From original scoreoard, could change -->
        <script src="//www.google.com/jsapi" type="text/javascript"></script>
        <link rel="icon" href="static/favicon.ico">
        <style>
@font-face {
    font-family: 'Righteous';
    font-style: normal;
    font-weight: 400;
    src: local('Righteous'), local('Righteous-Regular'), url(https://fonts.gstatic.com/s/righteous/v6/1cXxaUPXBpj2rGoU7C9WiHGF.woff2) format('woff2');
}
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
body {
    font-size: 24px;
    padding: 20px;
    font-family: 'Righteous', sans-serif;
}
a {
    color: inherit;
}
td, th {
    border-collapse: collapse;
    padding: 5px;
}
tbody tr {
    border-top: solid 1px #ccc;
}
table#summary {
    margin: 80px auto;
    border-collapse: collapse;
    text-align: center;
}
.warnings {
    color: red;
}
.chart_cell {
    padding: 0;
}
.chart {
    width: 150px;
    height: 100px;
}
.chart text,
.chart svg > g:nth-of-type(2) {
    visibility: hidden;
    display: none;
}
.chart path {
    visibility: visible;
}

        </style>
    </head>
    <body>
        {% if teams %}
        <table id="summary">
            <thead>
                <th><!-- Warnings --></th>
                <th>Number</th>
                <th>Name</th>
                <th>Time</th>
                <th>Score</th>
                <th>Progress</th>
            </thead>
            <tbody>
                {% for team in teams %}
                <tr>
                    <td class="warnings">{{ team.warnings }}</td>
                    <td><a href="{{ team_path }}{{ team.number }}">{{ team.number }}</a></td>
                    <td>{{ team.name }}</td>
                    <td>{{ team.play_time }}</td>
                    <td>{{ team.score }}</td>
                    <td class="chart_cell">
                        <!-- From scoreboard (modified for multiple charts) -->
                        <div class="chart" id="chart_div_{{ team.number }}"></div>
                    </td>
                    {{ team.chart_script|safe }}
                </tr>
                {% endfor %}
                </tbody>
        </table>
        <script>
// We need to be careful about reloading. Each reload queries the scoreboard many times.
// CyberPatriot ratelimits quite liberally, so we should only reload once in a while.
setTimeout(60*1000, location.reload);
        </script>
        {% else %}
        <p>Teams (separated by commas):</p>
        <form>
            <input type="text" name="teams" value="11-0255,11-1078,11-1091,11-1095,11-1308">
            <input type="submit">
        </form>
        {% endif %}
        <!--{% for team in teams %}
        {{ team.main_table|safe }}
        {% endfor %}-->
    </body>
</html>
